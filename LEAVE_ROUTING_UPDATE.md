# การอัปเดต Routing สำหรับเอกสารเรื่องลา

## สรุปการเปลี่ยนแปลง

ได้ทำการอัปเดตระบบ routing เพื่อให้เอกสารเรื่องลาไปที่หน้าลาเฉพาะ และเอกสารอื่นๆ (เช่น Incentive) ไปที่ DocumentViewer ตามปกติ

## ไฟล์ที่สร้างใหม่

### 1. `src/pages/LeavePage.js`
- หน้าเฉพาะสำหรับแสดงเอกสารเรื่องลา
- มี UI ที่เหมาะสมกับเนื้อหาเรื่องลา
- แสดงประเภทการลา, ขั้นตอนการขอลา, และข้อควรทราบ
- มีปุ่มดำเนินการต่างๆ เช่น ยื่นคำขอลา, ดูวันลาที่เหลือ

### 2. `src/pages/LeavePage.css`
- Styling สำหรับหน้าลา
- ใช้ gradient background และ card design
- Responsive design สำหรับมือถือ

## ไฟล์ที่แก้ไข

### 1. `src/App.js`
- เพิ่ม import `LeavePage`
- เพิ่ม route `/leave/:id` สำหรับหน้าลา

### 2. `src/components/SearchResults.js`
- เพิ่มฟังก์ชัน `isLeaveDocument()` เพื่อตรวจสอบว่าเอกสารเป็นเรื่องลาหรือไม่
- เพิ่มฟังก์ชัน `getDocumentLink()` เพื่อกำหนด route ที่ถูกต้อง
- แก้ไข Link ให้ใช้ `getDocumentLink()` แทน hardcode `/document/`

### 3. `src/services/mockSearchData.js`
- เพิ่มเอกสารเรื่องลาเพิ่มเติม:
  - `hr_003`: นโยบายการลาพักร้อนประจำปี 2024
  - `hr_004`: คู่มือการขอลาป่วยและลากิจ
  - `hr_005`: นโยบายลาคลอดและลาเลี้ยงดูบุตร

## Logic การตรวจสอบเอกสารลา

ฟังก์ชัน `isLeaveDocument()` จะตรวจสอบ:
1. คำสำคัญในชื่อเอกสาร: 'ลา', 'พักร้อน', 'ป่วย', 'กิจส่วนตัว', 'คลอด', 'leave'
2. คำสำคัญในเนื้อหา: เช่นเดียวกับข้างต้น
3. หมวดหมู่ HR ที่มีคำว่า 'ลา' ในชื่อหรือเนื้อหา

## การทำงาน

1. เมื่อผู้ใช้ค้นหาเอกสารเรื่องลา
2. ระบบจะแสดงผลการค้นหาตามปกติ
3. เมื่อคลิก "ดูเอกสาร" หรือชื่อเอกสาร:
   - หากเป็นเอกสารเรื่องลา → ไปที่ `/leave/:id` (LeavePage)
   - หากเป็นเอกสารอื่น → ไปที่ `/document/:id` (DocumentViewer)

## ตัวอย่างการใช้งาน

1. ค้นหา "ลาพักร้อน" → จะเจอเอกสาร "นโยบายการลาพักร้อนประจำปี 2024"
2. คลิกดูเอกสาร → จะไปที่หน้าลาที่มี UI เฉพาะ
3. ค้นหา "incentive" → จะเจอเอกสาร "อัปเดตการ INCENTIVE"
4. คลิกดูเอกสาร → จะไปที่ DocumentViewer ตามปกติ

## การทดสอบ

สามารถทดสอบได้โดย:
1. ค้นหาคำว่า "ลา" หรือ "พักร้อน"
2. คลิกดูเอกสารที่เกี่ยวข้องกับการลา
3. ตรวจสอบว่าไปที่หน้าลาที่มี URL `/leave/:id`
4. ค้นหาคำอื่นๆ เช่น "incentive"
5. ตรวจสอบว่าไปที่ DocumentViewer ที่มี URL `/document/:id`